# Self-closing tag

<foo/>

==> element.expression(selfClosing.tag(tag.open, tag.type.name, tag.close))

# Regular tag

<foo>bar</foo>

==> element.expression(opening.tag(tag.open, tag.type.name, tag.close), text.literal, closing.tag(tag.open, tag.type.name, tag.close))

# Nested tag

<a><b>c</b><d/></a>

==>

element.e(opening.t(tag.t),
  element.e(opening.t(tag.t), text.l, closing.t(tag.t)),
  element.e(selfClosing.t(tag.t)),
closing.t(tag.t))

# Attribute

<a foo="bar"/>

==> element.e(selfClosing.t(tag.t, attribute.definition.property.name, equals.punctuation, attribute.string.literal))

# Multiple attributes

<a x="one" y="two" z="three"></a>

==> element.e(opening.t(tag.t, attribute.d, attribute.s, attribute.d, attribute.s, attribute.d, attribute.s), closing.t(tag.t))

# Entities

<a attr="one&amp;two">&amp;&#67;</a>

==>

element.e(opening.t(tag.t, attribute.d, attribute.s(entity.literal)), entity.literal, character.literal, closing.t(tag.t))

# Doctype

<!doctype html>
<doc/>

==>

doctype.declaration.metadata,
element.e(selfClosing.t(tag.t))

# Processing instructions

<?foo?><bar><?baz?></bar>

==>

processing.instruction.metadata,
element.e(opening.t(tag.t), processing.instruction.metadata, closing.t(tag.t))

# Comments

<!-- top comment -->
<element><!-- inner comment --> text</element>

==>

block.comment,
element.e(opening.t(tag.t), block.comment, text.literal, closing.t(tag.t))

# Mismatched tag

<a></b>

==> element.e(opening.t(tag.t), closing.t(tag.mismatch))

# Nested mismatched tag

<a><b><c></c></x></a>

==>

element.e(opening.t(tag.t),
  element.e(opening.t(tag.t),
    element.e(opening.t(tag.t), closing.t(tag.t)),
    closing.t(tag.mismatch)),
  closing.t(tag.t))

# Mismatched tag with whitespace

<doc>
  <
    foo bar="10">
    blah
  </oof>
</doc>

==>

element.e(opening.t(tag.t),
  text.l,
  element.e(opening.t(tag.t, attribute.d, attribute.s),
    text.l
    closing.t(tag.mismatch))
  text.l,
  closing.tag(tag.t))
